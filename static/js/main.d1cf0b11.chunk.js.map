{"version":3,"sources":["components/Layout/Welcome.module.css","hooks/use-http.js","lib/api.js","auth-context/auth-context.js","components/Auth/AuthForm.module.css","components/UI/LoadingSpinner.js","components/Layout/Header.module.css","components/Users/UserInfor.js","components/Layout/Layout.module.css","components/UI/LoadingSpinner.module.css","components/AllPictures/PictureList.module.css","components/AllPictures/PictureItem.module.css","components/AllPictures/NoPictureFound.module.css","components/Users/UserInfor.module.css","components/Layout/Header.js","components/Layout/Layout.js","components/Layout/Welcome.js","components/AllPictures/PictureItem.js","components/AllPictures/PictureList.js","components/AllPictures/NoPictureFound.js","pages/AllPictures.js","components/Auth/AuthForm.js","pages/Login.js","pages/PersonalPage.js","App.js","index.js"],"names":["module","exports","httpReducer","state","action","type","data","error","status","responseData","errorMessage","useHttp","requestFunction","startWithPending","useReducer","httpState","dispatch","sendRequest","useCallback","requestData","a","message","FIREBASE_DOMAIN","register","userData","fetch","method","body","JSON","stringify","headers","response","json","ok","Error","login","userEmail","key","email","getUserData","userId","loadedUserData","id","addPicture","pictureData","getAllPictures","transformedPictures","pictureObj","unshift","getUserPictures","owner","getSinglePicture","pictureId","loadedPicture","addComment","content","header","commentId","name","getAllComments","transformedComments","commentObj","text","commentData","commenter","push","AuthContext","React","createContext","token","isLoggedIn","logout","AuthProvider","props","initialToken","localStorage","getItem","initalUserId","useState","setId","setToken","authContextValue","setItem","removeItem","Provider","value","children","LoadingSpinner","className","classes","spinner","UserInfor","src","image","alt","username","Header","authCtx","useContext","getUserRequest","userDataError","userDataStatus","useEffect","headerContainer","logo","nav","to","class","profileImgURL","onClick","Layout","Fragment","main","Welcome","welcome","activeClassName","active","welcomeButton","footer","PictureItem","item","img","PictureList","pictureList","pictures","map","picture","description","NoPictureFound","noPictureFound","AllPictures","loadedPictures","length","AuthForm","history","useHistory","isLogin","setIsLogin","isLoading","setIsLoading","enteredEmail","setEnteredEmail","enteredPassword","setEnteredPassword","enteredUsername","setEnteredUsername","enteredProfileImgURL","setEnteredProfileImgURL","loginRequest","auth","onSubmit","e","url","preventDefault","password","returnSecureToken","then","res","idToken","replace","catch","console","log","control","htmlFor","required","onChange","target","actions","policy","toggle","prevState","Login","PersonalPage","useParams","getPersonalRequest","pictureStatus","pictureError","NewPicture","lazy","PictureDetail","process","REACT_APP_FIREBASE_KEY","App","path","exact","fallback","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d1cf0b11.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"welcome\":\"Welcome_welcome__2Z7p5\",\"header\":\"Welcome_header__2-CML\",\"nav\":\"Welcome_nav__3k8ei\",\"welcomeButton\":\"Welcome_welcomeButton__OuKxc\",\"body\":\"Welcome_body__bdSFy\",\"footer\":\"Welcome_footer__2Qr6M\"};","import { useReducer, useCallback } from \"react\";\r\n\r\nfunction httpReducer(state, action) {\r\n  if (action.type === \"SEND\") {\r\n    return {\r\n      data: null,\r\n      error: null,\r\n      status: \"pending\",\r\n    };\r\n  }\r\n  if (action.type === \"SUCCESS\") {\r\n    return {\r\n      data: action.responseData,\r\n      error: null,\r\n      status: \"completed\",\r\n    };\r\n  }\r\n  if (action.type === \"ERROR\") {\r\n    return {\r\n      data: null,\r\n      error: action.errorMessage,\r\n      status: \"completed\",\r\n    };\r\n  }\r\n  return state;\r\n}\r\n\r\nfunction useHttp(requestFunction, startWithPending = false) {\r\n  const [httpState, dispatch] = useReducer(httpReducer, {\r\n    data: null,\r\n    error: null,\r\n    status: startWithPending ? \"pending\" : null,\r\n  });\r\n\r\n  const sendRequest = useCallback(\r\n    async function (requestData) {\r\n      dispatch({ type: \"SEND\" });\r\n      try {\r\n        const responseData = await requestFunction(requestData);\r\n        dispatch({ type: \"SUCCESS\", responseData });\r\n      } catch (error) {\r\n        dispatch({\r\n          type: \"ERROR\",\r\n          errorMessage: error.message || \"Something went wrong!\",\r\n        });\r\n      }\r\n    },\r\n    [requestFunction]\r\n  );\r\n\r\n  return {\r\n    sendRequest,\r\n    ...httpState,\r\n  };\r\n}\r\n\r\nexport default useHttp;\r\n","const FIREBASE_DOMAIN =\r\n  \"https://great-picture-dc893-default-rtdb.asia-southeast1.firebasedatabase.app\";\r\n\r\nexport async function register(userData) {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/users.json`, {\r\n    method: \"POST\",\r\n    body: JSON.stringify(userData),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  const data = await response.json();\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not register.\");\r\n  }\r\n  return null;\r\n}\r\n\r\nexport async function login(userEmail) {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/users.json`);\r\n  const data = await response.json();\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not fetch user.\");\r\n  }\r\n  for (const key in data) {\r\n    if (data[key].email === userEmail) {\r\n      return key;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nexport async function getUserData(userId){\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/users/${userId}.json`);\r\n  const data = await response.json();\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not fetch user.\");\r\n  }\r\n  const loadedUserData = {\r\n    id: userId,\r\n    ...data\r\n  }\r\n  return loadedUserData;\r\n}\r\n\r\nexport async function addPicture(pictureData) {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/pictures.json`, {\r\n    method: \"POST\",\r\n    body: JSON.stringify(pictureData),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  const data = await response.json();\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not create picture.\");\r\n  }\r\n  return null;\r\n}\r\n\r\nexport async function getAllPictures() {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/pictures.json`);\r\n  const data = await response.json();\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not fetch pictures.\");\r\n  }\r\n  const transformedPictures = [];\r\n  for (const key in data) {\r\n    const pictureObj = {\r\n      id: key,\r\n      ...data[key],\r\n    };\r\n    transformedPictures.unshift(pictureObj);\r\n  }\r\n  return transformedPictures;\r\n}\r\n\r\nexport async function getUserPictures(userId) {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/pictures.json`);\r\n  const data = await response.json();\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not fetch pictures.\");\r\n  }\r\n  const transformedPictures = [];\r\n  for (const key in data) {\r\n    if (data[key].owner === userId) {\r\n      const pictureObj = {\r\n        id: key,\r\n        ...data[key],\r\n      };\r\n      transformedPictures.unshift(pictureObj);\r\n    }\r\n  }\r\n  return transformedPictures;\r\n}\r\nexport async function getSinglePicture(pictureId) {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/pictures/${pictureId}.json`);\r\n  const data = await response.json();\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not fetch picture.\");\r\n  }\r\n  const loadedPicture = {\r\n    id: pictureId,\r\n    ...data,\r\n  };\r\n  return loadedPicture;\r\n}\r\n\r\nexport async function addComment(requestData) {\r\n  const response = await fetch(\r\n    `${FIREBASE_DOMAIN}/comments/${requestData.pictureId}.json`,\r\n    {\r\n      method: \"POST\",\r\n      body: JSON.stringify(requestData.content),\r\n      header: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }\r\n  );\r\n  const data = await response.json();\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not add comment.\");\r\n  }\r\n  return {\r\n    commentId: data.name,\r\n  };\r\n}\r\n\r\nexport async function getAllComments(pictureId) {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/comments/${pictureId}.json`);\r\n  const data = await response.json();\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not get comments.\");\r\n  }\r\n  const transformedComments = [];\r\n  for (const key in data) {\r\n    const commentObj = {\r\n      id: key,\r\n      text: data[key].commentData,\r\n      commenter: data[key].commenter\r\n    };\r\n    transformedComments.push(commentObj);\r\n  }\r\n  return transformedComments;\r\n}\r\n","import React, { useState } from \"react\";\r\n\r\nexport const AuthContext = React.createContext({\r\n  token: \"\",\r\n  isLoggedIn: false,\r\n  userId: '',\r\n  login: (token) => {},\r\n  logout: () => {},\r\n});\r\n\r\nconst AuthProvider = (props) => {\r\n\r\n  const initialToken = localStorage.getItem(\"token\");\r\n  const initalUserId = localStorage.getItem('userId');\r\n  const [id, setId] = useState(initalUserId);\r\n  const [token, setToken] = useState(initialToken);\r\n  const userIsLoggedIn = !!token;\r\n  const loginHandler = (token, userId) => {\r\n    setToken(token);\r\n    setId(userId);\r\n    localStorage.setItem('userId',userId)\r\n    localStorage.setItem(\"token\", token);\r\n  };\r\n  const logoutHandler = () => {\r\n    setToken(null);\r\n    setId(null);\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem('userId')\r\n  };\r\n  const authContextValue = {\r\n    token: token,\r\n    isLoggedIn: userIsLoggedIn,\r\n    userId: id,\r\n    login: loginHandler,\r\n    logout: logoutHandler,\r\n  };\r\n  return (\r\n    <AuthContext.Provider value={authContextValue}>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\nexport default AuthProvider;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"AuthForm_auth__X-8L9\",\"control\":\"AuthForm_control__MD1Wu\",\"actions\":\"AuthForm_actions__27KrO\",\"toggle\":\"AuthForm_toggle__3-Ejt\",\"policy\":\"AuthForm_policy__20a_G\"};","import classes from './LoadingSpinner.module.css';\n\nconst LoadingSpinner = () => {\n  return <div className={classes.spinner}></div>;\n}\n\nexport default LoadingSpinner;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerContainer\":\"Header_headerContainer__2YkH1\",\"header\":\"Header_header__2faIG\",\"logo\":\"Header_logo__1G1kP\",\"nav\":\"Header_nav__3CRxk\"};","import classes from \"./UserInfor.module.css\";\r\nconst UserInfor = (props) => {\r\n  return (\r\n    <div className={classes.UserInfor}>\r\n      <img src={props.image} alt=\"profile\" />\r\n      <p>{props.username}</p>\r\n    </div>\r\n  );\r\n};\r\nexport default UserInfor;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Layout_main__3qo5v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"LoadingSpinner_spinner__2vyCZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pictureList\":\"PictureList_pictureList__18Gjs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"PictureItem_item__3pkfm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"noPictureFound\":\"NoPictureFound_noPictureFound__3MeT8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UserInfor\":\"UserInfor_UserInfor__1f-IP\"};","import { useContext, useEffect } from \"react\";\r\nimport { NavLink, Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../auth-context/auth-context\";\r\nimport useHttp from \"../../hooks/use-http\";\r\nimport { getUserData } from \"../../lib/api\";\r\nimport classes from \"./Header.module.css\";\r\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\r\nconst Header = () => {\r\n  const authCtx = useContext(AuthContext);\r\n  const userId = authCtx.userId;\r\n  //get picture owner data\r\n  const {\r\n    sendRequest: getUserRequest,\r\n    data: loadedUserData,\r\n    error: userDataError,\r\n    status: userDataStatus,\r\n  } = useHttp(getUserData, true);\r\n\r\n  useEffect(() => {\r\n    if (userId && authCtx.isLoggedIn) {\r\n      getUserRequest(userId);\r\n    }\r\n  }, [getUserRequest, userId]);\r\n\r\n  if (authCtx.isLoggedIn) {\r\n    if (userDataStatus === \"pending\") {\r\n      return (\r\n        <div className=\"centered\">\r\n          <LoadingSpinner />\r\n        </div>\r\n      );\r\n    }\r\n    if (userDataError) {\r\n      return <p className=\"centered\">{userDataError}</p>;\r\n    }\r\n  }\r\n\r\n  const logoutHandler = () => {\r\n    authCtx.logout();\r\n  };\r\n  return (\r\n    <section className={classes.headerContainer}>\r\n      <div className={classes.header}>\r\n        <h2 className={classes.logo}>\r\n          Great\r\n          <br />\r\n          Pictures\r\n        </h2>\r\n        <nav className={classes.nav}>\r\n          <ul>\r\n            {authCtx.isLoggedIn && (\r\n              <li>\r\n                <Link to=\"/pictures\">\r\n                  <i class=\"bx bxs-home\"></i>\r\n                </Link>\r\n              </li>\r\n            )}\r\n            {authCtx.isLoggedIn && (\r\n              <li>\r\n                <Link to=\"/new-picture\">\r\n                  <i class=\"bx bx-plus-circle\"></i>\r\n                </Link>\r\n              </li>\r\n            )}\r\n            {!authCtx.isLoggedIn && (\r\n              <li>\r\n                <Link to=\"/login\">\r\n                  Login\r\n                </Link>\r\n              </li>\r\n            )}\r\n            {authCtx.isLoggedIn && (\r\n              <li>\r\n                <Link to={`/${authCtx.userId}`}>\r\n                  <img\r\n                    src={loadedUserData.profileImgURL}\r\n                    alt=\"header-profile\"\r\n                  />\r\n                </Link>\r\n              </li>\r\n            )}\r\n            {authCtx.isLoggedIn && (\r\n              <li>\r\n                <button onClick={logoutHandler}>Logout</button>\r\n              </li>\r\n            )}\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nimport classes from \"./Layout.module.css\";\r\nimport Header from \"./Header\";\r\nconst Layout = (props) => {\r\n  return (\r\n    <React.Fragment>\r\n      <Header />\r\n      <main className={classes.main}>{props.children}</main>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import classes from \"./Welcome.module.css\";\r\n\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\n\r\nimport { AuthContext } from \"../../auth-context/auth-context\";\r\nconst Welcome = () => {\r\n  const authCtx = useContext(AuthContext);\r\n  const logoutHandler = () => {\r\n    authCtx.logout();\r\n  };\r\n  return (\r\n    <div className={classes.welcome}>\r\n      <section className={classes.header}>\r\n        <h1 className={classes.logo}>Great<br/>Pictures</h1>\r\n        <nav className={classes.nav}>\r\n          <ul>\r\n            {authCtx.isLoggedIn && (\r\n              <li>\r\n                <NavLink to=\"/pictures\" activeClassName={classes.active}>\r\n                  All Pictures\r\n                </NavLink>\r\n              </li>\r\n            )}\r\n            {authCtx.isLoggedIn && (\r\n              <li>\r\n                <NavLink to=\"/new-picture\" activeClassName={classes.active}>\r\n                  Add New Picture\r\n                </NavLink>\r\n              </li>\r\n            )}\r\n            {!authCtx.isLoggedIn && (\r\n              <li>\r\n                <NavLink to=\"/login\" activeClassName={classes.active}>\r\n                  Login\r\n                </NavLink>\r\n              </li>\r\n            )}\r\n            {authCtx.isLoggedIn && (\r\n              <li>\r\n                <button onClick={logoutHandler} className={classes.welcomeButton}>Logout</button>\r\n              </li>\r\n            )}\r\n          </ul>\r\n        </nav>\r\n      </section>\r\n      <section className={classes.body}>\r\n        <h1>Share your best moments</h1>\r\n      </section>\r\n      <section className={classes.footer}>\r\n        <p>&copy; 2021 GreatPictures</p>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\nexport default Welcome;\r\n","import { Link } from \"react-router-dom\";\r\nimport classes from \"./PictureItem.module.css\";\r\n\r\nconst PictureItem = (props) => {\r\n  return (\r\n    <div className={classes.item}>\r\n      <Link to={`/pictures/${props.id}`}><img src={props.img} alt={props.id} /></Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PictureItem;\r\n","import classes from './PictureList.module.css'\r\nimport PictureItem from \"./PictureItem\";\r\n\r\nconst PictureList = (props) => {\r\n\r\n  const pictureList = props.pictures.map((picture) => (\r\n    <PictureItem\r\n      key={picture.id}\r\n      id={picture.id}\r\n      img={picture.image}\r\n      description={picture.description}\r\n      owner = {picture.owner}\r\n    />\r\n  ));\r\n  return <ul className={classes.pictureList}>{pictureList}</ul>;\r\n};\r\n\r\nexport default PictureList;\r\n","import { Link } from \"react-router-dom\"\r\nimport classes from './NoPictureFound.module.css'\r\n\r\nconst NoPictureFound = props => {\r\n    return (\r\n        <div className={classes.noPictureFound}>\r\n            <p>No picture found!</p>\r\n            <Link to='/new-picture' className='btn'>\r\n                Add New Picture\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\nexport default NoPictureFound","import { useEffect } from \"react\";\r\n\r\nimport useHttp from \"../hooks/use-http\";\r\nimport { getAllPictures } from \"../lib/api\";\r\n\r\nimport PictureList from \"../components/AllPictures/PictureList\";\r\nimport NoPictureFound from \"../components/AllPictures/NoPictureFound\";\r\n\r\nimport LoadingSpinner from \"../components/UI/LoadingSpinner\";\r\n\r\nconst AllPictures = (props) => {\r\n  const {\r\n    sendRequest,\r\n    data: loadedPictures,\r\n    status,\r\n    error,\r\n  } = useHttp(getAllPictures, true);\r\n\r\n  useEffect(() => {\r\n    sendRequest();\r\n  }, [sendRequest]);\r\n\r\n  if (status === \"pending\") {\r\n    return (\r\n      <div className=\"centered\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return <p className=\"centered\">{error}</p>;\r\n  }\r\n\r\n  if (\r\n    status === \"completed\" &&\r\n    (!loadedPictures || loadedPictures.length === 0)\r\n  ) {\r\n    return <NoPictureFound />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <PictureList pictures={loadedPictures} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AllPictures;\r\n","import { useContext, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { AuthContext } from \"../../auth-context/auth-context\";\n//import AuthContext from \"../../store/auth-context\";\nimport classes from \"./AuthForm.module.css\";\nimport useHttp from \"../../hooks/use-http\";\nimport { login, register } from \"../../lib/api\";\n\nconst AuthForm = () => {\n  const authCtx = useContext(AuthContext);\n\n  const history = useHistory();\n\n  //check user wants to log in or sign up\n  const [isLogin, setIsLogin] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n  const [enteredEmail, setEnteredEmail] = useState(\"\");\n  const [enteredPassword, setEnteredPassword] = useState(\"\");\n  const [enteredUsername, setEnteredUsername] = useState(\"\");\n  const [enteredProfileImgURL, setEnteredProfileImgURL] = useState(\"\");\n\n  //request to store new user to database\n  const { sendRequest } = useHttp(register);\n  const { sendRequest: loginRequest, data: userId } = useHttp(login);\n  \n  const emailChangeHandler = (e) => {\n    setEnteredEmail(e.target.value);\n  };\n  const passwordChangeHandler = (e) => {\n    setEnteredPassword(e.target.value);\n  };\n  const usernameChangeHandler = (e) => {\n    setEnteredUsername(e.target.value);\n  };\n  const profileImgChangeHandler = (e) => {\n    setEnteredProfileImgURL(e.target.value);\n  };\n\n  useEffect(() => {\n    loginRequest(enteredEmail);\n  }, [enteredEmail, loginRequest]);\n\n  const switchAuthModeHandler = () => {\n    setIsLogin((prevState) => !prevState);\n  };\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    let url;\n    if (!isLogin) {\n      //url for signing up\n      url =\n        \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCwsdVEx1Rtk-zsDMQru0C36f-qPMzAdyw\";\n    } else {\n      //url for signing in\n      url =\n        \"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCwsdVEx1Rtk-zsDMQru0C36f-qPMzAdyw\";\n    }\n    //fetch data from firebase\n    fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify({\n        email: enteredEmail,\n        password: enteredPassword,\n        returnSecureToken: true,\n      }),\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n    })\n      .then((res) => {\n        return res.json();\n      })\n      .then((data) => {\n        //if errors exist, return error\n        if (data && data.error && data.error.message) {\n          throw new Error(data.error.message);\n        }\n        if (isLogin) {\n          //after login\n          authCtx.login(data.idToken, userId);\n          //redirect to /pictures\n          history.replace(\"/pictures\");\n        } else {\n          //store userData in database\n          sendRequest({\n            email: enteredEmail,\n            username: enteredUsername,\n            profileImgURL: enteredProfileImgURL,\n          });\n          setIsLogin(true);\n        }\n      })\n      .catch((error) => console.log(error.message));\n    setIsLoading(false);\n    setEnteredEmail(\"\");\n    setEnteredPassword(\"\");\n    setEnteredUsername(\"\");\n  };\n  return (\n    <section className={classes.auth} onSubmit={submitHandler}>\n      <h1>{isLogin ? \"Login\" : \"Sign Up\"}</h1>\n      <form>\n        {!isLogin && (\n          <div className={classes.control}>\n            <label htmlFor=\"profileImg\">Profile Image URL</label>\n            <input\n              type=\"text\"\n              id=\"profileImg\"\n              required\n              onChange={profileImgChangeHandler}\n              value={enteredProfileImgURL}\n            />\n          </div>\n        )}\n        {!isLogin && (\n          <div className={classes.control}>\n            <label htmlFor=\"username\">Username</label>\n            <input\n              type=\"text\"\n              id=\"username\"\n              required\n              onChange={usernameChangeHandler}\n              value={enteredUsername}\n            />\n          </div>\n        )}\n        <div className={classes.control}>\n          <label htmlFor=\"email\">Your Email</label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            required\n            onChange={emailChangeHandler}\n            value={enteredEmail}\n          />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"password\">Your Password</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            required\n            onChange={passwordChangeHandler}\n            value={enteredPassword}\n          />\n        </div>\n        <div className={classes.actions}>\n          {!isLoading && (\n            <button>{isLogin ? \"Login\" : \"Create Account\"}</button>\n          )}\n          {isLoading && <p className=\"centered\">Loading...</p>}\n          {!isLogin&&<p className={classes.policy}>By signing up, you agree to our Terms , Data Policy and Cookies Policy</p>}\n          <button\n            type=\"button\"\n            className={classes.toggle}\n            onClick={switchAuthModeHandler}\n          >\n            {isLogin ? \"Create new account\" : \"Login with existing account\"}\n          </button>\n        </div>\n      </form>\n    </section>\n  );\n};\n\nexport default AuthForm;\n","import React from \"react\";\r\nimport AuthForm from \"../components/Auth/AuthForm\";\r\n\r\nconst Login = (props) => {\r\n  return (\r\n    <React.Fragment>\r\n      <AuthForm />\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default Login;\r\n","import React, { useEffect } from \"react\";\r\nimport useHttp from \"../hooks/use-http\";\r\nimport { useParams } from \"react-router\";\r\n\r\nimport { getUserData, getUserPictures } from \"../lib/api\";\r\n\r\nimport NoPictureFound from \"../components/AllPictures/NoPictureFound\";\r\nimport PictureList from \"../components/AllPictures/PictureList\";\r\nimport LoadingSpinner from \"../components/UI/LoadingSpinner\";\r\nimport UserInfor from \"../components/Users/UserInfor\";\r\n\r\nconst PersonalPage = (props) => {\r\n  //userId to get pictures\r\n  const params = useParams();\r\n  const { userId } = params;\r\n\r\n  //get picture request\r\n  const {\r\n    sendRequest: getPersonalRequest,\r\n    data: loadedPictures,\r\n    status:pictureStatus,\r\n    error:pictureError,\r\n  } = useHttp(getUserPictures, true);\r\n\r\n  useEffect(() => {\r\n    getPersonalRequest(userId);\r\n  }, [getPersonalRequest, userId]);\r\n\r\n  //get user data\r\n  const { sendRequest: getUserRequest, data: loadedUserData, error: userDataError,status:userDataStatus } =\r\n    useHttp(getUserData,true);\r\n\r\n  useEffect(() => {\r\n    getUserRequest(userId);\r\n  }, [getUserRequest, userId]);\r\n\r\n  if (pictureStatus === \"pending\" || userDataStatus ==='pending') {\r\n    return (\r\n      <div className=\"centered\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (pictureError || userDataError) {\r\n    return <p className=\"centered\">{pictureError} <br/> {userDataError}</p>;\r\n  }\r\n\r\n  if (\r\n    pictureStatus === \"completed\" &&\r\n    (!loadedPictures || loadedPictures.length === 0)\r\n  ) {\r\n    return <NoPictureFound />;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <UserInfor\r\n        image={loadedUserData.profileImgURL}\r\n        username={loadedUserData.username}\r\n      />\r\n      <PictureList pictures={loadedPictures} />\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default PersonalPage;\r\n","import React, { Suspense, useContext } from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\n\nimport { AuthContext } from \"./auth-context/auth-context\";\nimport Layout from \"./components/Layout/Layout\";\nimport Welcome from \"./components/Layout/Welcome\";\nimport LoadingSpinner from \"./components/UI/LoadingSpinner\";\nimport AllPictures from \"./pages/AllPictures\";\nimport Login from \"./pages/Login\";\nimport PersonalPage from \"./pages/PersonalPage\";\n\n//use react.lazy to faster loading time\n//doesn't load unnecessary components\nconst NewPicture = React.lazy(() => import(\"./pages/NewPicture\"));\nconst PictureDetail = React.lazy(() => import(\"./pages/PictureDetail\"));\nexport const FIREBASE_KEY = process.env.REACT_APP_FIREBASE_KEY\nfunction App() {\n  const authCtx = useContext(AuthContext);\n  return (\n      <Switch>\n        <Route path=\"/\" exact>\n          <Welcome />\n        </Route>\n        <Layout>\n          <Suspense\n            fallback={\n              <div className=\"centered\">\n                <LoadingSpinner />\n              </div>\n            }\n          >\n            <Switch>\n              {authCtx.isLoggedIn && (\n                <Route exact path=\"/pictures\">\n                  <AllPictures />\n                </Route>\n              )}\n              {authCtx.isLoggedIn && (\n                <Route path=\"/new-picture\">\n                  <NewPicture />\n                </Route>\n              )}\n              {authCtx.isLoggedIn && (\n                <Route path=\"/pictures/:pictureId\">\n                  <PictureDetail />\n                </Route>\n              )}\n              <Route path=\"/login\">\n                <Login />\n              </Route>\n              {authCtx.isLoggedIn && (\n                <Route path=\"/:userId\">\n                  <PersonalPage />\n                </Route>\n              )}\n              <Route path=\"*\">\n                <Redirect to=\"/\" />\n              </Route>\n            </Switch>\n          </Suspense>\n        </Layout>\n      </Switch>\n  );\n}\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport AuthProvider from \"./auth-context/auth-context\";\nReactDOM.render(\n  <AuthProvider>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </AuthProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}