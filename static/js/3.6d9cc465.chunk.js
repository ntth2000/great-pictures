(this["webpackJsonpdeploy-github"]=this["webpackJsonpdeploy-github"]||[]).push([[3],{50:function(e,t,c){e.exports={pictureDetailPage:"PictureDetailPage_pictureDetailPage__2EY1Z",container:"PictureDetailPage_container__3lo8Q"}},51:function(e,t,c){e.exports={item:"HighlightedPicture_item__1R0Op"}},52:function(e,t,c){e.exports={comments:"Comments_comments__2Xmd5"}},53:function(e,t,c){e.exports={form:"NewCommentForm_form__26y8U",loading:"NewCommentForm_loading__2fKNN",control:"NewCommentForm_control__2dn61",actions:"NewCommentForm_actions__u1RJ6"}},54:function(e,t,c){e.exports={commentItem:"CommentItem_commentItem__2pD1Y",username:"CommentItem_username__2W_Vz"}},55:function(e,t,c){e.exports={commentList:"CommentList_commentList__L2q9X"}},56:function(e,t,c){e.exports={UserInfor:"UserInforPersonalPage_UserInfor__1sEnT"}},57:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),r=c(2),a=c(5),i=c(50),o=c.n(i),m=c(51),j=c.n(m),d=c(0),l=function(e){var t=e.img,c=e.id,n=e.description;return Object(d.jsxs)("div",{className:j.a.item,children:[Object(d.jsx)("img",{src:t,alt:c}),Object(d.jsx)("p",{children:n})]})},u=c(52),b=c.n(u),O=c(13),x=c(12),f=c(9),p=c(53),h=c.n(p),_=c(14),g=function(e){var t=Object(n.useContext)(_.a),c=Object(x.a)(O.a).sendRequest,s=Object(n.useState)(),r=Object(f.a)(s,2),a=r[0],i=r[1];return Object(d.jsxs)("form",{className:h.a.form,onSubmit:function(n){n.preventDefault(),c({pictureId:e.pictureId,content:{commentData:a,commenter:t.userId}}),i("")},children:[Object(d.jsxs)("div",{className:h.a.control,children:[Object(d.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),Object(d.jsx)("textarea",{id:"comment",rows:"5",value:a,onChange:function(e){i(e.target.value)}})]}),Object(d.jsx)("div",{className:h.a.actions,children:Object(d.jsx)("button",{className:"btn",children:"Add Comment"})})]})},N=c(54),v=c.n(N),I=c(16),C=function(e){var t=e.commenter,c=e.text,s=Object(x.a)(O.f,!0),r=s.sendRequest,i=s.data,o=s.error,m=s.status;return Object(n.useEffect)((function(){t&&r(t)}),[r,t]),"pending"===m?Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)(I.a,{})}):o?Object(d.jsx)("p",{className:"centered",children:o}):"completed"===m?Object(d.jsxs)("div",{className:v.a.commentItem,children:[Object(d.jsxs)(a.b,{className:v.a.username,to:"/".concat(i.id),children:[i.username,": "]}),Object(d.jsx)("span",{children:c})]}):void 0},P=c(55),w=c.n(P),D=function(e){var t=e.comments;return Object(d.jsx)("div",{className:w.a.commentList,children:t.map((function(e){return Object(d.jsx)(C,{text:e.text,commenter:e.commenter},e.id)}))})},R=function(e){var t=Object(r.i)().pictureId,c=Object(x.a)(O.c),s=c.sendRequest,a=c.status,i=c.data;Object(n.useEffect)((function(){s(t)}),[s,t]);var o,m=Object(n.useCallback)((function(){s(t)}),[s,t]);return"pending"===a&&(o=Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)(I.a,{})})),"completed"===a&&i&&i.length>0&&(o=Object(d.jsx)(D,{comments:i})),"completed"!==a||i&&0!==i.length||(o=Object(d.jsx)("p",{className:"centered",children:"No Comments Were Added Yet!"})),Object(d.jsxs)("div",{className:b.a.comments,children:[Object(d.jsx)("h2",{children:"Comments"}),Object(d.jsx)(g,{pictureId:t,onAddComment:m}),o]})},F=(c(25),c(56)),q=c.n(F),E=function(e){return Object(d.jsxs)("div",{className:q.a.UserInfor,children:[Object(d.jsxs)(a.b,{to:"/".concat(e.userId),children:[Object(d.jsx)("img",{src:e.image,alt:"profile"})," "]}),Object(d.jsx)(a.b,{to:"/".concat(e.userId),children:Object(d.jsx)("p",{children:e.username})})]})},L=function(e){var t=Object(x.a)(O.e,!0),c=t.sendRequest,s=t.status,i=t.data,m=t.error,j=Object(r.j)(),u=Object(r.i)().pictureId;Object(n.useEffect)((function(){c(u)}),[c,u]);var b=Object(x.a)(O.f,!0),f=b.sendRequest,p=b.data,h=b.error,_=b.status;return Object(n.useEffect)((function(){i&&i.owner&&f(i.owner)}),[f,i]),"pending"===s||"pending"===_?Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)(I.a,{})}):m||h?Object(d.jsxs)("p",{className:"centered",children:[m," ",Object(d.jsx)("br",{})," ",h]}):i.image?Object(d.jsx)("div",{className:o.a.pictureDetailPage,children:Object(d.jsxs)("div",{className:o.a.container,children:[Object(d.jsx)(E,{image:p.profileImgURL,username:p.username,userId:p.id}),Object(d.jsx)(l,{img:i.image,description:i.description,id:i.id}),Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)(r.c,{exact:!0,path:"".concat(j.url),children:Object(d.jsx)(a.b,{className:"btn--flat",to:"".concat(j.url,"/comments"),children:"Comment"})})}),Object(d.jsx)(r.c,{path:"".concat(j.path,"/comments"),children:Object(d.jsx)(R,{})})]})}):Object(d.jsx)("p",{children:"No Picture Found!"})};t.default=function(e){return Object(d.jsx)(s.a.Fragment,{children:Object(d.jsx)(L,{})})}}}]);
//# sourceMappingURL=3.6d9cc465.chunk.js.map