{"version":3,"sources":["components/PictureDetail/PictureDetailPage.module.css","components/AllPictures/HighlightedPicture.module.css","components/Comments/Comments.module.css","components/Comments/NewCommentForm.module.css","components/Comments/CommentItem.module.css","components/Comments/CommentList.module.css","components/Users/UserInforPersonalPage.module.css","components/AllPictures/HighlightedPicture.js","components/Comments/NewCommentForm.js","components/Comments/CommentItem.js","components/Comments/CommentList.js","components/Comments/Comments.js","components/Users/UserInforPersonalPage.js","components/PictureDetail/PictureDetailPage.js","pages/PictureDetail.js"],"names":["module","exports","HighlightedPicture","props","img","id","description","className","classes","item","src","alt","NewCommentForm","authCtx","useContext","AuthContext","sendRequest","useHttp","addComment","useState","commentInput","setCommentInput","form","onSubmit","e","preventDefault","pictureId","content","commentData","commenter","userId","control","htmlFor","rows","value","onChange","target","actions","CommentItem","text","getUserData","getUserRequest","loadedUserData","data","userDataError","error","userDataStatus","status","useEffect","LoadingSpinner","commentItem","username","to","CommentList","comments","commentList","map","comment","Comments","useParams","getAllComments","loadedComments","addedCommentHandler","useCallback","length","onAddComment","UserInforPersonalPage","UserInfor","image","PictureDetailPage","getSinglePicture","pictureRequest","pictureStatus","foundPicture","pictureError","match","useRouteMatch","owner","pictureDetailPage","container","profileImgURL","exact","path","url","PictureDetail","Fragment"],"mappings":"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","file":"static/js/3.6d9cc465.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pictureDetailPage\":\"PictureDetailPage_pictureDetailPage__2EY1Z\",\"container\":\"PictureDetailPage_container__3lo8Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"HighlightedPicture_item__1R0Op\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comments\":\"Comments_comments__2Xmd5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"NewCommentForm_form__26y8U\",\"loading\":\"NewCommentForm_loading__2fKNN\",\"control\":\"NewCommentForm_control__2dn61\",\"actions\":\"NewCommentForm_actions__u1RJ6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"commentItem\":\"CommentItem_commentItem__2pD1Y\",\"username\":\"CommentItem_username__2W_Vz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"commentList\":\"CommentList_commentList__L2q9X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UserInfor\":\"UserInforPersonalPage_UserInfor__1sEnT\"};","import classes from './HighlightedPicture.module.css'\r\n\r\nconst HighlightedPicture = props => {\r\n    const {img,id,description} = props\r\n    return (\r\n        <div className={classes.item}>\r\n            <img src={img} alt={id}/>\r\n            <p>{description}</p>\r\n        </div>\r\n    )\r\n}\r\nexport default HighlightedPicture","import { useContext, useState } from \"react\";\r\nimport classes from \"./NewCommentForm.module.css\";\r\nimport useHttp from \"../../hooks/use-http\";\r\nimport { addComment } from \"../../lib/api\";\r\nimport { AuthContext } from \"../../auth-context/auth-context\";\r\n\r\nconst NewCommentForm = (props) => {\r\n  const authCtx = useContext(AuthContext);\r\n  const { sendRequest } = useHttp(addComment);\r\n\r\n  const [commentInput, setCommentInput] = useState();\r\n\r\n  const commentInputHandler = (e) => {\r\n    setCommentInput(e.target.value);\r\n  };\r\n\r\n  const formSubmitHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    sendRequest({\r\n      pictureId: props.pictureId,\r\n      content: { commentData: commentInput, commenter: authCtx.userId },\r\n    });\r\n    setCommentInput(\"\");\r\n  };\r\n  return (\r\n    <form className={classes.form} onSubmit={formSubmitHandler}>\r\n      <div className={classes.control}>\r\n        <label htmlFor=\"comment\">Your Comment</label>\r\n        <textarea\r\n          id=\"comment\"\r\n          rows=\"5\"\r\n          value={commentInput}\r\n          onChange={commentInputHandler}\r\n        ></textarea>\r\n      </div>\r\n      <div className={classes.actions}>\r\n        <button className=\"btn\">Add Comment</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\nexport default NewCommentForm;\r\n","import classes from \"./CommentItem.module.css\";\r\nimport { useEffect } from \"react\";\r\nimport useHttp from \"../../hooks/use-http\";\r\nimport { getUserData } from \"../../lib/api\";\r\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\r\nimport { Link } from \"react-router-dom\";\r\nconst CommentItem = (props) => {\r\n  const { commenter, text } = props;\r\n  const {\r\n    sendRequest: getUserRequest,\r\n    data: loadedUserData,\r\n    error: userDataError,\r\n    status: userDataStatus,\r\n  } = useHttp(getUserData, true);\r\n\r\n  useEffect(() => {\r\n    if (commenter) {\r\n      getUserRequest(commenter);\r\n    }\r\n  }, [getUserRequest, commenter]);\r\n\r\n\r\n  if (userDataStatus === \"pending\") {\r\n    return (\r\n      <div className=\"centered\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  }\r\n  if (userDataError) {\r\n    return <p className=\"centered\">{userDataError}</p>;\r\n  }\r\n  if (userDataStatus === \"completed\") {\r\n    return (\r\n      <div className={classes.commentItem}>\r\n        <Link className={classes.username} to={`/${loadedUserData.id}`}>\r\n           {loadedUserData.username}: </Link>\r\n        <span>{text}</span>\r\n      </div>\r\n    );\r\n  }\r\n};\r\nexport default CommentItem;\r\n","import CommentItem from \"./CommentItem\";\r\nimport classes from \"./CommentList.module.css\";\r\n\r\nconst CommentList = (props) => {\r\n  const {comments} = props\r\n  return (\r\n    <div className={classes.commentList}>\r\n      {comments.map((comment) => (\r\n        <CommentItem text={comment.text} key={comment.id} commenter={comment.commenter}/>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\nexport default CommentList;\r\n","import { useParams } from \"react-router\";\r\nimport { useEffect, useCallback } from \"react\";\r\nimport classes from \"./Comments.module.css\";\r\n\r\nimport { getAllComments } from \"../../lib/api\";\r\nimport useHttp from \"../../hooks/use-http\";\r\n\r\nimport NewCommentForm from \"./NewCommentForm\";\r\nimport CommentList from \"./CommentList\";\r\n\r\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\r\n\r\nconst Comments = (props) => {\r\n  const params = useParams();\r\n  const { pictureId } = params;\r\n\r\n  const { sendRequest, status, data: loadedComments } = useHttp(getAllComments);\r\n  \r\n  useEffect(() => {\r\n    sendRequest(pictureId);\r\n  }, [sendRequest, pictureId]);\r\n\r\n  const addedCommentHandler = useCallback(() => {\r\n    sendRequest(pictureId);\r\n  }, [sendRequest, pictureId]);\r\n\r\n  let comments;\r\n\r\n  if (status === \"pending\") {\r\n    comments = (\r\n      <div className=\"centered\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  }\r\n   \r\n  if (status === \"completed\" && loadedComments && loadedComments.length > 0) {\r\n    comments = <CommentList comments={loadedComments} />;\r\n  }\r\n\r\n  if (\r\n    status === \"completed\" &&\r\n    (!loadedComments || loadedComments.length === 0)\r\n  ) {\r\n    comments = <p className=\"centered\">No Comments Were Added Yet!</p>;\r\n  }\r\n  \r\n  return (\r\n    <div className={classes.comments}>\r\n      <h2>Comments</h2>\r\n      <NewCommentForm\r\n        pictureId={pictureId}\r\n        onAddComment={addedCommentHandler}\r\n      />\r\n      {comments}\r\n    </div>\r\n  );\r\n};\r\nexport default Comments;\r\n","import { Link } from \"react-router-dom\";\r\nimport classes from \"./UserInforPersonalPage.module.css\";\r\nconst UserInforPersonalPage = (props) => {\r\n  return (\r\n    <div className={classes.UserInfor}>\r\n      <Link to={`/${props.userId}`}>\r\n        <img src={props.image} alt=\"profile\" />{\" \"}\r\n      </Link>\r\n      <Link to={`/${props.userId}`}>\r\n        <p>{props.username}</p>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\nexport default UserInforPersonalPage;\r\n","import { Route, useParams, useRouteMatch } from \"react-router\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { useEffect } from \"react\";\r\n\r\nimport classes from \"./PictureDetailPage.module.css\";\r\n\r\nimport HighlightedPicture from \"../AllPictures/HighlightedPicture\";\r\nimport Comments from \"../Comments/Comments\";\r\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\r\nimport UserInfor from \"../Users/UserInfor\";\r\n\r\nimport useHttp from \"../../hooks/use-http\";\r\nimport { getSinglePicture, getUserData } from \"../../lib/api\";\r\nimport UserInforPersonalPage from \"../Users/UserInforPersonalPage\";\r\nconst PictureDetailPage = (props) => {\r\n  const {\r\n    sendRequest: pictureRequest,\r\n    status: pictureStatus,\r\n    data: foundPicture,\r\n    error: pictureError,\r\n  } = useHttp(getSinglePicture, true);\r\n\r\n  const match = useRouteMatch();\r\n  const params = useParams();\r\n\r\n  const { pictureId } = params;\r\n\r\n  useEffect(() => {\r\n    pictureRequest(pictureId);\r\n  }, [pictureRequest, pictureId]);\r\n\r\n  //get picture owner data\r\n  const {\r\n    sendRequest: getUserRequest,\r\n    data: loadedUserData,\r\n    error: userDataError,\r\n    status: userDataStatus,\r\n  } = useHttp(getUserData, true);\r\n\r\n  useEffect(() => {\r\n    if (foundPicture && foundPicture.owner) {\r\n      getUserRequest(foundPicture.owner);\r\n    }\r\n  }, [getUserRequest, foundPicture]);\r\n  if (pictureStatus === \"pending\" || userDataStatus === \"pending\") {\r\n    return (\r\n      <div className=\"centered\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  }\r\n  if (pictureError || userDataError) {\r\n    return (\r\n      <p className=\"centered\">\r\n        {pictureError} <br /> {userDataError}\r\n      </p>\r\n    );\r\n  }\r\n  if (!foundPicture.image) {\r\n    return <p>No Picture Found!</p>;\r\n  }\r\n\r\n  return (\r\n    <div className={classes.pictureDetailPage}>\r\n      <div className={classes.container}>\r\n        <UserInforPersonalPage\r\n          image={loadedUserData.profileImgURL}\r\n          username={loadedUserData.username}\r\n          userId={loadedUserData.id}\r\n        />\r\n        <HighlightedPicture\r\n          img={foundPicture.image}\r\n          description={foundPicture.description}\r\n          id={foundPicture.id}\r\n        />\r\n        <div className=\"centered\">\r\n          <Route exact path={`${match.url}`}>\r\n            <Link className=\"btn--flat\" to={`${match.url}/comments`}>\r\n              Comment\r\n            </Link>\r\n          </Route>\r\n        </div>\r\n        <Route path={`${match.path}/comments`}>\r\n          <Comments />\r\n        </Route>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default PictureDetailPage;\r\n","import React from \"react\";\r\nimport PictureDetailPage from \"../components/PictureDetail/PictureDetailPage\";\r\n\r\nconst PictureDetail = (props) => {\r\n  return (\r\n    <React.Fragment>\r\n      <PictureDetailPage />\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default PictureDetail;\r\n"],"sourceRoot":""}